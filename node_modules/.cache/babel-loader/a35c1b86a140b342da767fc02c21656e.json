{"ast":null,"code":"import _regeneratorRuntime from\"/Users/vanderleijunior/Documents/marvel-consulta-quadrinhos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/vanderleijunior/Documents/marvel-consulta-quadrinhos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/vanderleijunior/Documents/marvel-consulta-quadrinhos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/vanderleijunior/Documents/marvel-consulta-quadrinhos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Dialog,Grid}from'@material-ui/core';import{useState}from'react';//img\nimport FavoriteBorderIcon from'@material-ui/icons/FavoriteBorder';import FavoriteIcon from'@material-ui/icons/Favorite';//Local Imports\nimport{Menu}from'../../../shared/components/menu/menu';//Redux\nimport{saveFavoriteComics}from'../redux/dashboardActions';import{api}from'../../../core/api/api';import{Containerbody,ContainerbodyOpacity,ComicContainer,DialogBody}from'./dashboardStyle';import{useDispatch}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function Dashboard(){var _saveComicInfo$thumbn,_saveComicInfo$thumbn2;var dispatch=useDispatch();//States\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),comicsRecover=_useState2[0],setComicsRecover=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isOpen=_useState4[0],setIsOpen=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),saveComicInfo=_useState6[0],setSaveComicInfo=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),favorite=_useState8[0],setFavorite=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),myFavorites=_useState10[0],setMyFavorites=_useState10[1];var handleChange=function handleChange(text){api.get(\"/characters?apikey=90477e77a3b01a078ec22b190e677c21&ts=1629003931&hash=36847f3d516088a7ce0d7e26491c4832&limit=40&offset=0&nameStartsWith=\".concat(text)).then(function(response){var _response$data,_response$data$data;return setComicsRecover(response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:(_response$data$data=_response$data.data)===null||_response$data$data===void 0?void 0:_response$data$data.results);}).catch(function(err){console.error(\"ops! ocorreu um erro\"+err);});};var handleSelect=function handleSelect(item){setSaveComicInfo(item);setIsOpen(true);};var handleClose=function handleClose(){setIsOpen(false);setFavorite(false);};var handleFavorite=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setFavorite(true);_context.next=3;return setMyFavorites([].concat(_toConsumableArray(myFavorites),[saveComicInfo]));case 3:dispatch(saveFavoriteComics(myFavorites));case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleFavorite(){return _ref.apply(this,arguments);};}();var handleExcludeFavorite=function handleExcludeFavorite(){setFavorite(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Dialog,{onClose:function onClose(){return handleClose();},\"aria-labelledby\":\"simple-dialog-title\",open:isOpen,children:/*#__PURE__*/_jsxs(DialogBody,{children:[/*#__PURE__*/_jsx(\"h3\",{children:saveComicInfo.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{style:{height:'120px',width:'100px',marginRight:10},alt:\"comic img\",src:\"\".concat(saveComicInfo===null||saveComicInfo===void 0?void 0:(_saveComicInfo$thumbn=saveComicInfo.thumbnail)===null||_saveComicInfo$thumbn===void 0?void 0:_saveComicInfo$thumbn.path,\".\").concat(saveComicInfo===null||saveComicInfo===void 0?void 0:(_saveComicInfo$thumbn2=saveComicInfo.thumbnail)===null||_saveComicInfo$thumbn2===void 0?void 0:_saveComicInfo$thumbn2.extension)}),/*#__PURE__*/_jsxs(\"div\",{style:{flexDirection:'column',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:(saveComicInfo===null||saveComicInfo===void 0?void 0:saveComicInfo.description)?saveComicInfo===null||saveComicInfo===void 0?void 0:saveComicInfo.description:'Unfortunately we dont have the description for this comic'})]})]}),!favorite?/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return handleFavorite();},style:{alignItems:'center'},children:[/*#__PURE__*/_jsx(FavoriteBorderIcon,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Favorite Comic\"})]}):/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return handleExcludeFavorite();},style:{alignItems:'center'},children:[/*#__PURE__*/_jsx(FavoriteIcon,{}),/*#__PURE__*/_jsx(\"p\",{children:\"This comic is in favorites\"})]})]})}),/*#__PURE__*/_jsx(Menu,{}),/*#__PURE__*/_jsx(Containerbody,{children:/*#__PURE__*/_jsxs(ContainerbodyOpacity,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Marvel Comics\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Search and find the best comics!\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Pesquisar por heroi\",onChange:function onChange(e){return handleChange(e.target.value);}}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,direction:\"row\",justifyContent:\"center\",alignItems:\"center\",children:comicsRecover.map(function(item,index){return/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:2,style:{display:'flex',justifyContent:\"center\",marginTop:'15px'},children:/*#__PURE__*/_jsx(ComicContainer,{onClick:function onClick(){return handleSelect(item);},style:{background:\"url(\".concat(item.thumbnail.path,\".\").concat(item.thumbnail.extension,\")\"),backgroundSize:'cover'},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:item.name})})})});})})]})})]});}","map":{"version":3,"sources":["/Users/vanderleijunior/Documents/marvel-consulta-quadrinhos/src/features/Dashboard/pages/dashboard.js"],"names":["Dialog","Grid","useState","FavoriteBorderIcon","FavoriteIcon","Menu","saveFavoriteComics","api","Containerbody","ContainerbodyOpacity","ComicContainer","DialogBody","useDispatch","Dashboard","dispatch","comicsRecover","setComicsRecover","isOpen","setIsOpen","saveComicInfo","setSaveComicInfo","favorite","setFavorite","myFavorites","setMyFavorites","handleChange","text","get","then","response","data","results","catch","err","console","error","handleSelect","item","handleClose","handleFavorite","handleExcludeFavorite","name","height","width","marginRight","thumbnail","path","extension","flexDirection","marginBottom","description","alignItems","e","target","value","map","index","display","justifyContent","marginTop","background","backgroundSize"],"mappings":"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","sourcesContent":["import { Dialog,Grid } from '@material-ui/core';\nimport { useState } from 'react'\n//img\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\n\n//Local Imports\nimport { Menu } from '../../../shared/components/menu/menu'\n\n//Redux\nimport { saveFavoriteComics } from '../redux/dashboardActions'\n\nimport { api } from '../../../core/api/api'\n\nimport {\n  Containerbody,\n  ContainerbodyOpacity,\n  ComicContainer,\n  DialogBody\n} from './dashboardStyle'\nimport { useDispatch } from 'react-redux';\n\nexport function Dashboard() {\n  const dispatch = useDispatch()\n\n  //States\n  const [comicsRecover, setComicsRecover] = useState([])\n  const [isOpen, setIsOpen] = useState(false)\n  const [saveComicInfo, setSaveComicInfo] = useState({})\n  const [favorite, setFavorite] = useState(false)\n  const [myFavorites, setMyFavorites] = useState([])\n\n  const handleChange = (text) => {\n    api.get(`/characters?apikey=90477e77a3b01a078ec22b190e677c21&ts=1629003931&hash=36847f3d516088a7ce0d7e26491c4832&limit=40&offset=0&nameStartsWith=${text}`)\n    .then((response) =>  setComicsRecover(response?.data?.data?.results))\n    .catch((err) => {\n      console.error(\"ops! ocorreu um erro\" + err);\n    });\n  }\n\n  const handleSelect = (item) => {\n    setSaveComicInfo(item)\n    setIsOpen(true)\n  }\n\n  const handleClose = () => {\n    setIsOpen(false)\n    setFavorite(false)\n  }\n\n  const handleFavorite = async() => {\n    setFavorite(true)\n    await setMyFavorites([...myFavorites,saveComicInfo])\n    dispatch(saveFavoriteComics(myFavorites))\n  }\n\n  const handleExcludeFavorite = () => {\n    setFavorite(false)\n  }\n\n  return (\n    <>\n    <Dialog onClose={() => handleClose() } aria-labelledby=\"simple-dialog-title\" open={isOpen}>\n      <DialogBody>\n        <h3>{saveComicInfo.name}</h3>\n        <div>\n          <img \n            style={{height:'120px',width:'100px',marginRight:10}}\n            alt='comic img' \n            src={`${saveComicInfo?.thumbnail?.path}.${saveComicInfo?.thumbnail?.extension}`}/>\n          <div style={{flexDirection:'column',marginBottom:'20px'}}>\n            <p>Description</p><br/>\n            <p>{saveComicInfo?.description? saveComicInfo?.description:'Unfortunately we dont have the description for this comic'}</p>\n          </div>\n        </div>\n        {!favorite ?\n          <div onClick={() => handleFavorite()} style={{alignItems:'center'}}>\n            <FavoriteBorderIcon />\n            <p>Favorite Comic</p>\n          </div>\n          :\n          <div onClick={() => handleExcludeFavorite()} style={{alignItems:'center'}}>\n              <FavoriteIcon />\n              <p>This comic is in favorites</p>\n          </div>\n        }\n      </DialogBody>\n    </Dialog>\n    <Menu />\n    <Containerbody>\n      <ContainerbodyOpacity>\n        <h1>Marvel Comics</h1>\n        <p>Search and find the best comics!</p>\n        <input \n          placeholder='Pesquisar por heroi'\n          onChange={(e) => handleChange(e.target.value)}\n        />\n        <Grid \n          container spacing={3}\n          direction=\"row\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n        >\n          {comicsRecover.map((item,index) => {\n            return (\n              <Grid \n                item xs={6} md={2}\n                style={{display:'flex',justifyContent:\"center\",marginTop:'15px'}}\n              > \n                <ComicContainer \n                  onClick={() => handleSelect(item)}\n                  style={\n                    {\n                      background: `url(${item.thumbnail.path}.${item.thumbnail.extension})`,\n                      backgroundSize: 'cover'\n                    }\n                }>\n                  <div>\n                    <p>{item.name}</p>\n                  </div>\n                </ComicContainer>\n              </Grid>\n            )\n          })}\n        </Grid>\n      </ContainerbodyOpacity>\n    </Containerbody>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}